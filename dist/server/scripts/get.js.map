{"version":3,"sources":["../../../src/server/scripts/get.js"],"names":["FeedMe","require","http","https","fetchFeeds","url","cb","startsWith","get","res","parser","pipe","on","done","e","console","log","message"],"mappings":";;;;;AAAA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;AACA,IAAIE,QAAQF,QAAQ,OAAR,CAAZ;;AAEA,SAASG,UAAT,CAAqBC,GAArB,EAA0BC,EAA1B,EAA8B;AAC5B,MAAID,IAAIE,UAAJ,CAAe,QAAf,CAAJ,EAA8B;AAC5BJ,UAAMK,GAAN,CAAUH,GAAV,EAAe,UAAUI,GAAV,EAAe;AAC5B,UAAIC,SAAS,IAAIV,MAAJ,CAAW,IAAX,CAAb;AACAS,UAAIE,IAAJ,CAASD,MAAT;AACAA,aAAOE,EAAP,CAAU,KAAV,EAAiB,YAAY;AAC3BN,WAAG,IAAH,EAASI,OAAOG,IAAP,EAAT;AACD,OAFD;AAGD,KAND,EAMGD,EANH,CAMM,OANN,EAMe,UAAUE,CAAV,EAAa;AAAEC,cAAQC,GAAR,CAAYF,EAAEG,OAAd;AAAwB,KANtD;AAOD,GARD,MAQO,IAAIZ,IAAIE,UAAJ,CAAe,OAAf,CAAJ,EAA6B;AAClCL,SAAKM,GAAL,CAASH,GAAT,EAAc,UAAUI,GAAV,EAAe;AAC3B,UAAIC,SAAS,IAAIV,MAAJ,CAAW,IAAX,CAAb;AACAS,UAAIE,IAAJ,CAASD,MAAT;AACAA,aAAOE,EAAP,CAAU,KAAV,EAAiB,YAAY;AAC3BN,WAAG,IAAH,EAASI,OAAOG,IAAP,EAAT;AACD,OAFD;AAGD,KAND,EAMGD,EANH,CAMM,OANN,EAMe,UAAUE,CAAV,EAAa;AAAEC,cAAQC,GAAR,CAAYF,EAAEG,OAAd;AAAwB,KANtD;AAOD;AACF;;AAEC;;;;;;;;AAQF;;;;;QAKSb,U,GAAAA,U","file":"get.js","sourcesContent":["var FeedMe = require('feedme')\nvar http = require('http')\nvar https = require('https')\n\nfunction fetchFeeds (url, cb) {\n  if (url.startsWith('https:')) {\n    https.get(url, function (res) {\n      var parser = new FeedMe(true)\n      res.pipe(parser)\n      parser.on('end', function () {\n        cb(null, parser.done())\n      })\n    }).on('error', function (e) { console.log(e.message) })\n  } else if (url.startsWith('http:')) {\n    http.get(url, function (res) {\n      var parser = new FeedMe(true)\n      res.pipe(parser)\n      parser.on('end', function () {\n        cb(null, parser.done())\n      })\n    }).on('error', function (e) { console.log(e.message) })\n  }\n}\n\n  /*\nupdateFeeds('http://127.0.0.1/rss/lifehacker.rss', function (err, res) {\n  if (err) throw err\n  res.items.map(item => console.log(item.pubdate))\n  // console.log(res.title, res.link)\n})\n*/\n\n/*\n * https://www.wired.com/feed/category/science/latest/rss\n * https://news.ycombinator.com/rss\n*/\n\nexport { fetchFeeds }\n"]}