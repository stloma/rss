{"version":3,"sources":["../../../src/server/models/bookmark.js"],"names":["siteFieldType","name","url","created","author","tags","comment","editFieldType","updated","validUrl","urlPattern","match","validateSite","site","errors","field","type","push","length","validateEdit"],"mappings":";;;;;;AACA,IAAMA,gBAAgB;AACpBC,QAAM,UADc;AAEpBC,OAAK,UAFe;AAGpBC,WAAS,UAHW;AAIpBC,UAAQ,UAJY;AAKpBC,QAAM,UALc;AAMpBC,WAAS;AANW,CAAtB;;AASA,IAAMC,gBAAgB;AACpBN,QAAM,UADc;AAEpBC,OAAK,UAFe;AAGpBM,WAAS,UAHW;AAIpBJ,UAAQ,UAJY;AAKpBC,QAAM,UALc;AAMpBC,WAAS;AANW,CAAtB;;AASA,SAASG,QAAT,CAAmBP,GAAnB,EAAwB;AACtB,MAAMQ,aAAa,mDAAnB;AACA,MAAIR,IAAIS,KAAJ,CAAUD,UAAV,CAAJ,EAA2B;AACzB,WAAO,IAAP;AACD;AACD,SAAO,KAAP;AACD;;AAED,SAASE,YAAT,CAAuBC,IAAvB,EAA6B;AAC3B,MAAIC,SAAS,EAAb;AACA,OAAK,IAAMC,KAAX,IAAoBf,aAApB,EAAmC;AACjC,QAAMgB,OAAOhB,cAAce,KAAd,CAAb;AACA,QAAIC,SAAS,UAAT,IAAuB,CAACH,KAAKE,KAAL,CAA5B,EAAyC;AACvCD,aAAOG,IAAP,CAAeF,KAAf;AACD;AACF;AACD,MAAIb,MAAMW,KAAK,KAAL,CAAV;AACA,MAAIX,OAAO,CAACO,SAASP,GAAT,CAAZ,EAA2B;AACzBY,WAAOG,IAAP,CAAY,wDAAZ;AACD;AACD,MAAIH,OAAOI,MAAP,GAAgB,CAApB,EAAuB;AACrB,WAAOJ,MAAP;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF;;AAED,SAASK,YAAT,CAAuBN,IAAvB,EAA6B;AAC3B,MAAIC,SAAS,EAAb;AACA,OAAK,IAAMC,KAAX,IAAoBR,aAApB,EAAmC;AACjC,QAAMS,OAAOT,cAAcQ,KAAd,CAAb;AACA,QAAIC,SAAS,UAAT,IAAuB,CAACH,KAAKE,KAAL,CAA5B,EAAyC;AACvCD,aAAOG,IAAP,CAAeF,KAAf;AACD;AACF;AACD,MAAIb,MAAMW,KAAK,KAAL,CAAV;AACA,MAAIX,OAAO,CAACO,SAASP,GAAT,CAAZ,EAA2B;AACzBY,WAAOG,IAAP,CAAY,wDAAZ;AACD;AACD,MAAIH,OAAOI,MAAP,GAAgB,CAApB,EAAuB;AACrB,WAAOJ,MAAP;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF;;QAEQF,Y,GAAAA,Y;QAAcO,Y,GAAAA,Y","file":"bookmark.js","sourcesContent":["\nconst siteFieldType = {\n  name: 'required',\n  url: 'required',\n  created: 'required',\n  author: 'optional',\n  tags: 'optional',\n  comment: 'optional'\n}\n\nconst editFieldType = {\n  name: 'required',\n  url: 'required',\n  updated: 'required',\n  author: 'optional',\n  tags: 'optional',\n  comment: 'optional'\n}\n\nfunction validUrl (url) {\n  const urlPattern = /^(https?:\\/\\/){1}[^-][a-z0-9.-]+[^-]\\.[a-z]{2,4}$/\n  if (url.match(urlPattern)) {\n    return true\n  }\n  return false\n}\n\nfunction validateSite (site) {\n  let errors = []\n  for (const field in siteFieldType) {\n    const type = siteFieldType[field]\n    if (type === 'required' && !site[field]) {\n      errors.push(`${field} is required`)\n    }\n  }\n  let url = site['url']\n  if (url && !validUrl(url)) {\n    errors.push('Please enter a valid url. E.g., http://www.example.com')\n  }\n  if (errors.length > 0) {\n    return errors\n  } else {\n    return null\n  }\n}\n\nfunction validateEdit (site) {\n  let errors = []\n  for (const field in editFieldType) {\n    const type = editFieldType[field]\n    if (type === 'required' && !site[field]) {\n      errors.push(`${field} is required`)\n    }\n  }\n  let url = site['url']\n  if (url && !validUrl(url)) {\n    errors.push('Please enter a valid url. E.g., http://www.example.com')\n  }\n  if (errors.length > 0) {\n    return errors\n  } else {\n    return null\n  }\n}\n\nexport { validateSite, validateEdit }\n"]}