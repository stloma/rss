{"version":3,"sources":["../../../src/server/models/db.js"],"names":["MongoDBStore","store","uri","collection","on","error","db","connect","then","connection","rssDb","catch","console","log"],"mappings":";;;;;;;AAAA;;;;AACA;;AACA;;;;;;AAEA,IAAMA,eAAe,8DAArB;;AAEA,IAAMC,QAAQ,IAAID,YAAJ,CACZ;AACEE,OAAK,4BADP;AAEEC,cAAY;AAFd,CADY,CAAd;;AAMAF,MAAMG,EAAN,CAAS,OAAT,EAAkB,UAACC,KAAD,EAAW;AAC3B,MAAIA,KAAJ,EAAW,MAAMA,KAAN;AACZ,CAFD;;AAIA,IAAMC,KAAK,EAAX;;AAEA,qBAAYC,OAAZ,CAAoB,4BAApB,EACGC,IADH,CACQ,UAACC,UAAD,EAAgB;AACpBH,KAAGI,KAAH,GAAWD,UAAX;AACD,CAHH,EAIGE,KAJH,CAIS,UAACN,KAAD,EAAW;AAChBO,UAAQC,GAAR,8BAAuCR,KAAvC;AACD,CANH;;QASEC,E,GAAAA,E;QAAIL,K,GAAAA,K","file":"db.js","sourcesContent":["import session from 'express-session'\nimport { MongoClient } from 'mongodb'\nimport connectMongo from 'connect-mongodb-session'\n\nconst MongoDBStore = connectMongo(session)\n\nconst store = new MongoDBStore(\n  {\n    uri: 'mongodb://localhost/rssapp',\n    collection: 'sessions'\n  })\n\nstore.on('error', (error) => {\n  if (error) throw error\n})\n\nconst db = {}\n\nMongoClient.connect('mongodb://localhost/rssapp')\n  .then((connection) => {\n    db.rssDb = connection\n  })\n  .catch((error) => {\n    console.log(`Error connecting to db: ${error}`)\n  })\n\nexport {\n  db, store\n}\n"]}